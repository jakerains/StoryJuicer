@import "tailwindcss";

/* ─── StoryFox "Warm Library at Dusk" Design Tokens ─── */

:root {
  /* Backgrounds */
  --sj-bg-top: #FBF4E6;
  --sj-bg-bottom: #F6EEDF;
  --sj-paper-top: #FBF4E6;
  --sj-paper-bottom: #E9DAC7;

  /* Surfaces */
  --sj-card: #FFF8EE;
  --sj-glass-soft: #F6EBDD;
  --sj-glass-weak: #FDF7EC;
  --sj-readable-card: #FCF3E7;

  /* Accents */
  --sj-coral: #B4543A;
  --sj-coral-hover: #9E4830;
  --sj-gold: #B78733;
  --sj-peach: #E8B79A;
  --sj-lavender: #8A78A1;
  --sj-mint: #4F8C72;
  --sj-sky: #567DA8;
  --sj-highlight: #F9C38D;

  /* Text */
  --sj-text: #1E1510;
  --sj-text-secondary: #47372D;
  --sj-muted: #6B5A4C;

  /* Borders */
  --sj-border: #CBB9A3;
  --sj-border-highlight: #F9C38D;
}

.dark {
  --sj-bg-top: #16110D;
  --sj-bg-bottom: #211913;
  --sj-paper-top: #211913;
  --sj-paper-bottom: #19120D;

  --sj-card: #241B15;
  --sj-glass-soft: #31251D;
  --sj-glass-weak: #281E17;
  --sj-readable-card: #2C211A;

  --sj-coral: #D98A73;
  --sj-coral-hover: #C47A65;
  --sj-gold: #D0A35F;
  --sj-peach: #8D5C46;
  --sj-lavender: #5E4F78;
  --sj-mint: #73AB90;
  --sj-sky: #87A5C6;
  --sj-highlight: #A66A3F;

  --sj-text: #F3E7D8;
  --sj-text-secondary: #C8B29B;
  --sj-muted: #9B8775;

  --sj-border: #4D3D31;
  --sj-border-highlight: #A66A3F;
}

@theme inline {
  --color-sj-coral: var(--sj-coral);
  --color-sj-coral-hover: var(--sj-coral-hover);
  --color-sj-gold: var(--sj-gold);
  --color-sj-peach: var(--sj-peach);
  --color-sj-lavender: var(--sj-lavender);
  --color-sj-mint: var(--sj-mint);
  --color-sj-sky: var(--sj-sky);
  --color-sj-highlight: var(--sj-highlight);
  --color-sj-text: var(--sj-text);
  --color-sj-secondary: var(--sj-text-secondary);
  --color-sj-muted: var(--sj-muted);
  --color-sj-card: var(--sj-card);
  --color-sj-border: var(--sj-border);
  --color-sj-bg-top: var(--sj-bg-top);
  --color-sj-bg-bottom: var(--sj-bg-bottom);
  --color-sj-glass-soft: var(--sj-glass-soft);

  --font-serif: var(--font-playfair);
  --font-sans: var(--font-nunito);
}

/* ─── Base Styles ─── */

html {
  scroll-behavior: smooth;
}

body {
  background: linear-gradient(135deg, var(--sj-bg-top) 0%, var(--sj-bg-bottom) 100%);
  color: var(--sj-text);
  font-family: var(--font-nunito), system-ui, sans-serif;
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ─── Utility Classes ─── */

.glass-border {
  position: relative;
}

.glass-border::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(135deg, rgba(203,185,163,0.95), rgba(249,195,141,0.35));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask-composite: exclude;
  pointer-events: none;
}

.dark .glass-border::before {
  background: linear-gradient(135deg, rgba(77,61,49,0.95), rgba(166,106,63,0.35));
}

/* Hero title fluid sizing */
.hero-title {
  font-size: clamp(2.5rem, 5vw, 4.5rem);
  line-height: 1.1;
}

.section-title {
  font-size: clamp(1.75rem, 3.5vw, 2.75rem);
  line-height: 1.2;
}

/* Ambient glow effects */
.glow-amber {
  background: radial-gradient(circle, rgba(249,195,141,0.22) 0%, transparent 70%);
}

.glow-peach {
  background: radial-gradient(circle, rgba(232,183,154,0.14) 0%, transparent 70%);
}

.dark .glow-amber {
  background: radial-gradient(circle, rgba(166,106,63,0.18) 0%, transparent 70%);
}

.dark .glow-peach {
  background: radial-gradient(circle, rgba(141,92,70,0.12) 0%, transparent 70%);
}

/* Paper grain texture overlay */
.paper-texture::before {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0.4;
  pointer-events: none;
  background-image: url('/images/paper-texture.png');
  background-size: 512px 512px;
  background-repeat: repeat;
  mix-blend-mode: multiply;
  z-index: 1;
}

.dark .paper-texture::before {
  opacity: 0.15;
  mix-blend-mode: soft-light;
}

/* ─── Timeline (How It Works) ─── */

.timeline-dot {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 64px;
  height: 64px;
  border-radius: 50%;
  font-family: var(--font-playfair), serif;
  font-size: 1.25rem;
  font-weight: 700;
  color: white;
  position: relative;
  z-index: 2;
  box-shadow:
    0 4px 12px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

/* ─── Bento Grid (Features) ─── */

.bento-hero {
  position: relative;
  border-radius: 20px;
  border: 1px solid color-mix(in srgb, var(--sj-border) 30%, transparent);
  padding: 2rem;
  overflow: hidden;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.bento-hero:hover {
  border-color: color-mix(in srgb, var(--sj-border) 50%, transparent);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.06);
}

.bento-hero::before {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0.04;
  background-image: repeating-linear-gradient(
    -45deg,
    var(--sj-border),
    var(--sj-border) 1px,
    transparent 1px,
    transparent 12px
  );
  pointer-events: none;
}

@media (max-width: 639px) {
  .bento-hero {
    padding: 1.25rem;
  }
}

.bento-compact {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  padding: 1.25rem 1.5rem;
  border-radius: 16px;
  border: 1px solid color-mix(in srgb, var(--sj-border) 20%, transparent);
  transition: border-color 0.2s ease, background-color 0.2s ease;
}

.bento-compact:hover {
  border-color: color-mix(in srgb, var(--sj-border) 40%, transparent);
  background-color: color-mix(in srgb, var(--sj-card) 40%, transparent);
}

/* ─── App Preview sparkle dust animations ─── */

@keyframes dust-twinkle {
  0%, 100% {
    opacity: 0;
    transform: translateY(0) scale(0.5);
  }
  15% {
    opacity: 1;
    transform: translateY(calc(-0.3 * var(--dust-drift, 8px))) scale(1);
  }
  50% {
    opacity: 0.6;
    transform: translateY(calc(-0.6 * var(--dust-drift, 8px))) scale(0.8);
  }
  80% {
    opacity: 0.9;
    transform: translateY(calc(-1 * var(--dust-drift, 8px))) scale(1.1);
  }
}

@keyframes dust-drift {
  0%, 100% {
    opacity: 0.15;
    transform: translate(0, 0) scale(0.7);
  }
  25% {
    opacity: 0.8;
    transform: translate(var(--dust-x, 4px), calc(-0.4 * var(--dust-drift, 6px))) scale(1);
  }
  50% {
    opacity: 0.3;
    transform: translate(calc(-0.5 * var(--dust-x, 4px)), calc(-1 * var(--dust-drift, 6px))) scale(0.9);
  }
  75% {
    opacity: 1;
    transform: translate(var(--dust-x, 4px), calc(-0.5 * var(--dust-drift, 6px))) scale(1.15);
  }
}

@keyframes dust-pulse {
  0%, 100% { opacity: 0.1; transform: scale(0.6); }
  50% { opacity: 0.9; transform: scale(1.3); }
}

/* ─── Bookshelf (Formats) ─── */

.bookshelf-line {
  height: 6px;
  border-radius: 3px;
  background: linear-gradient(
    90deg,
    color-mix(in srgb, var(--sj-border) 40%, transparent),
    var(--sj-border),
    color-mix(in srgb, var(--sj-gold) 50%, var(--sj-border)),
    var(--sj-border),
    color-mix(in srgb, var(--sj-border) 40%, transparent)
  );
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
  position: relative;
}

.bookshelf-line::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(to bottom, rgba(255,255,255,0.15), transparent);
}

/* ─── Checklist Bar (Requirements) ─── */

.checklist-bar {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  gap: 1.25rem;
  padding: 1.25rem 2.5rem;
  border-radius: 20px;
  border: 1px solid color-mix(in srgb, var(--sj-border) 35%, transparent);
  background: color-mix(in srgb, var(--sj-card) 30%, transparent);
}

@media (max-width: 640px) {
  .checklist-bar {
    flex-direction: column;
    gap: 0.75rem;
    padding: 1.25rem 1.5rem;
  }
}

/* Scroll progress bar */
.scroll-progress {
  transform-origin: left;
}
